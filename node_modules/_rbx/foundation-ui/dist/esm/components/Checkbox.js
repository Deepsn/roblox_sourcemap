import{_ as e,c as t,a as n}from"../clsx-afb2e3d4.js";import*as r from"react";import o from"react";import{jsx as i,Fragment as a,jsxs as s}from"react/jsx-runtime";import"react-dom";import{s as c}from"../style-inject.es-e87a8d02.js";import"../Interactable-5114b4fd.js";import l from"../utils/useId.js";function u(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function d(...e){return t=>{let n=!1;const r=e.map((e=>{const r=u(e,t);return n||"function"!=typeof r||(n=!0),r}));if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():u(e[t],null)}}}}function f(...e){return r.useCallback(d(...e),e)}function m(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const o=n.reduce(((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]})),{});return r.useMemo((()=>({[`__scope${t.scopeName}`]:o})),[o])}};return n.scopeName=t.scopeName,n}function p(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}function h(e){const t=r.useRef(e);return r.useEffect((()=>{t.current=e})),r.useMemo((()=>(...e)=>t.current?.(...e)),[])}function b({prop:e,defaultProp:t,onChange:n=(()=>{})}){const[o,i]=function({defaultProp:e,onChange:t}){const n=r.useState(e),[o]=n,i=r.useRef(o),a=h(t);return r.useEffect((()=>{i.current!==o&&(a(o),i.current=o)}),[o,i,a]),n}({defaultProp:t,onChange:n}),a=void 0!==e,s=a?e:o,c=h(n);return[s,r.useCallback((t=>{if(a){const n="function"==typeof t?t(e):t;n!==e&&c(n)}else i(t)}),[a,e,i,c])]}var v=Boolean(globalThis?.document)?r.useLayoutEffect:()=>{};var g=e=>{const{present:t,children:n}=e,o=function(e){const[t,n]=r.useState(),o=r.useRef({}),i=r.useRef(e),a=r.useRef("none"),s=e?"mounted":"unmounted",[c,l]=function(e,t){return r.useReducer(((e,n)=>t[e][n]??e),e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return r.useEffect((()=>{const e=y(o.current);a.current="mounted"===c?e:"none"}),[c]),v((()=>{const t=o.current,n=i.current;if(n!==e){const r=a.current,o=y(t);if(e)l("MOUNT");else if("none"===o||"none"===t?.display)l("UNMOUNT");else{l(n&&r!==o?"ANIMATION_OUT":"UNMOUNT")}i.current=e}}),[e,l]),v((()=>{if(t){let e;const n=t.ownerDocument.defaultView??window,r=r=>{const a=y(o.current).includes(r.animationName);if(r.target===t&&a&&(l("ANIMATION_END"),!i.current)){const r=t.style.animationFillMode;t.style.animationFillMode="forwards",e=n.setTimeout((()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=r)}))}},s=e=>{e.target===t&&(a.current=y(o.current))};return t.addEventListener("animationstart",s),t.addEventListener("animationcancel",r),t.addEventListener("animationend",r),()=>{n.clearTimeout(e),t.removeEventListener("animationstart",s),t.removeEventListener("animationcancel",r),t.removeEventListener("animationend",r)}}l("ANIMATION_END")}),[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:r.useCallback((e=>{e&&(o.current=getComputedStyle(e)),n(e)}),[])}}(t),i="function"==typeof n?n({present:o.isPresent}):r.Children.only(n),a=f(o.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(i));return"function"==typeof n||o.isPresent?r.cloneElement(i,{ref:a}):null};function y(e){return e?.animationName||"none"}g.displayName="Presence";var N=r.forwardRef(((e,t)=>{const{children:n,...o}=e,a=r.Children.toArray(n),s=a.find(E);if(s){const e=s.props.children,n=a.map((t=>t===s?r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null:t));return i(x,{...o,ref:t,children:r.isValidElement(e)?r.cloneElement(e,void 0,n):null})}return i(x,{...o,ref:t,children:n})}));N.displayName="Slot";var x=r.forwardRef(((e,t)=>{const{children:n,...o}=e;if(r.isValidElement(n)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(n),i=function(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...e)=>{i(...e),o(...e)}:o&&(n[r]=o):"style"===r?n[r]={...o,...i}:"className"===r&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}(o,n.props);return n.type!==r.Fragment&&(i.ref=t?d(t,e):e),r.cloneElement(n,i)}return r.Children.count(n)>1?r.Children.only(null):null}));x.displayName="SlotClone";var k=({children:e})=>i(a,{children:e});function E(e){return r.isValidElement(e)&&e.type===k}var w=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const n=r.forwardRef(((e,n)=>{const{asChild:r,...o}=e,a=r?N:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),i(a,{...o,ref:n})}));return n.displayName=`Primitive.${t}`,{...e,[t]:n}}),{}),C="Checkbox",[S,M]=function(e,t=[]){let n=[];const o=()=>{const t=n.map((e=>r.createContext(e)));return function(n){const o=n?.[e]||t;return r.useMemo((()=>({[`__scope${e}`]:{...n,[e]:o}})),[n,o])}};return o.scopeName=e,[function(t,o){const a=r.createContext(o),s=n.length;n=[...n,o];const c=t=>{const{scope:n,children:o,...c}=t,l=n?.[e]?.[s]||a,u=r.useMemo((()=>c),Object.values(c));return i(l.Provider,{value:u,children:o})};return c.displayName=t+"Provider",[c,function(n,i){const c=i?.[e]?.[s]||a,l=r.useContext(c);if(l)return l;if(void 0!==o)return o;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},m(o,...t)]}(C),[O,R]=S(C),P=r.forwardRef(((e,t)=>{const{__scopeCheckbox:n,name:o,checked:a,defaultChecked:c,required:l,disabled:u,value:d="on",onCheckedChange:m,form:h,...v}=e,[g,y]=r.useState(null),N=f(t,(e=>y(e))),x=r.useRef(!1),k=!g||(h||!!g.closest("form")),[E=!1,C]=b({prop:a,defaultProp:c,onChange:m}),S=r.useRef(E);return r.useEffect((()=>{const e=g?.form;if(e){const t=()=>C(S.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}}),[g,C]),s(O,{scope:n,state:E,disabled:u,children:[i(w.button,{type:"button",role:"checkbox","aria-checked":D(E)?"mixed":E,"aria-required":l,"data-state":I(E),"data-disabled":u?"":void 0,disabled:u,value:d,...v,ref:N,onKeyDown:p(e.onKeyDown,(e=>{"Enter"===e.key&&e.preventDefault()})),onClick:p(e.onClick,(e=>{C((e=>!!D(e)||!e)),k&&(x.current=e.isPropagationStopped(),x.current||e.stopPropagation())}))}),k&&i(_,{control:g,bubbles:!x.current,name:o,value:d,checked:E,required:l,disabled:u,form:h,style:{transform:"translateX(-100%)"},defaultChecked:!D(c)&&c})]})}));P.displayName=C;var T="CheckboxIndicator",A=r.forwardRef(((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...o}=e,a=R(T,n);return i(g,{present:r||D(a.state)||!0===a.state,children:i(w.span,{"data-state":I(a.state),"data-disabled":a.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})}));A.displayName=T;var _=e=>{const{control:t,checked:n,bubbles:o=!0,defaultChecked:a,...s}=e,c=r.useRef(null),l=function(e){const t=r.useRef({value:e,previous:e});return r.useMemo((()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous)),[e])}(n),u=function(e){const[t,n]=r.useState(void 0);return v((()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver((t=>{if(!Array.isArray(t))return;if(!t.length)return;const r=t[0];let o,i;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;o=t.inlineSize,i=t.blockSize}else o=e.offsetWidth,i=e.offsetHeight;n({width:o,height:i})}));return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)}),[e]),t}(t);r.useEffect((()=>{const e=c.current,t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"checked").set;if(l!==n&&r){const t=new Event("click",{bubbles:o});e.indeterminate=D(n),r.call(e,!D(n)&&n),e.dispatchEvent(t)}}),[l,n,o]);const d=r.useRef(!D(n)&&n);return i("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??d.current,...s,tabIndex:-1,ref:c,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function D(e){return"indeterminate"===e}function I(e){return D(e)?"indeterminate":e?"checked":"unchecked"}var L=P,j=A;c(".foundation-web-checkbox.foundation-web-checkbox-disabled{opacity:.5}.foundation-web-checkbox .foundation-web-interactable{outline-offset:3px}");var z=["XSmall","Small","Medium","Large"],U=["Start","End"],W={XSmall:"size-400",Small:"size-500",Medium:"size-600",Large:"size-600"},F={XSmall:"",Small:"",Medium:"",Large:"padding-y-xxsmall"},X={XSmall:"text-title-small",Small:"text-title-small",Medium:"text-title-medium",Large:"text-title-large"},$={XSmall:"",Small:"padding-top-xxsmall",Medium:"padding-top-xxsmall",Large:"padding-top-xxsmall"},V=function(r){var i=r.label,a=r.className,s=r.isChecked,c=r.isDisabled,u=r.size,d=r.hint,f=r.placement,m=r.onCheckedChange,p=e(r,["label","className","isChecked","isDisabled","size","hint","placement","onCheckedChange"]),h=l(),b=i&&o.createElement("label",{htmlFor:h,className:"flex flex-col grow-1 gap-xsmall"},o.createElement("span",{className:t(X[u],$[u],"content-emphasis")},i),d&&o.createElement("span",{className:"text-body-medium content-default"},d));return o.createElement("div",{className:t("foundation-web-checkbox flex gap-medium",c&&"foundation-web-checkbox-disabled",a)},"End"===f&&b,o.createElement("div",{className:t(F[u])},o.createElement(L,n({className:t(W[u],"foundation-web-interactable","flex items-center justify-center radius-small clip relative",{"stroke-standard":!s,"content-default":!s,"bg-action-sub-emphasis":s}),id:h,checked:s,disabled:c,onCheckedChange:m,"aria-label":i},p),o.createElement(j,{className:t(W[u],"relative content-action-sub-emphasis icon",{"icon-filled-minus":"indeterminate"===s,"icon-filled-check":!0===s})}))),"Start"===f&&b)};export{V as Checkbox,U as checkboxPlacements,z as checkboxSizes};
