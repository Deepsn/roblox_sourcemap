import{_ as e,a as n}from"../tslib.es6-e609138c.js";import t from"clsx";import*as r from"react";import o,{createContext as i,useMemo as a,useEffect as s,useContext as l}from"react";import{jsx as c,jsxs as u,Fragment as d}from"react/jsx-runtime";import{u as f}from"../index-93159332.js";import{R as p,h as m,u as g,F as h,D as v,P as y}from"../index-19da5741.js";import"react-dom";import"../Common-4e5515b6.js";import{s as w}from"../style-inject.es-e87a8d02.js";import{CloseAffordance as N}from"./internal/CloseAffordance.js";import"./Icon.js";import"./internal/StateLayer.js";function b(e,n,{checkForDefaultPrevented:t=!0}={}){return function(r){if(e?.(r),!1===t||!r.defaultPrevented)return n?.(r)}}function C(e,n){if("function"==typeof e)return e(n);null!=e&&(e.current=n)}function D(...e){return n=>{let t=!1;const r=e.map((e=>{const r=C(e,n);return t||"function"!=typeof r||(t=!0),r}));if(t)return()=>{for(let n=0;n<r.length;n++){const t=r[n];"function"==typeof t?t():C(e[n],null)}}}}function E(...e){return r.useCallback(D(...e),e)}function R(...e){const n=e[0];if(1===e.length)return n;const t=()=>{const t=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const o=t.reduce(((n,{useScope:t,scopeName:r})=>({...n,...t(e)[`__scope${r}`]})),{});return r.useMemo((()=>({[`__scope${n.scopeName}`]:o})),[o])}};return t.scopeName=n.scopeName,t}function O(e){const n=r.useRef(e);return r.useEffect((()=>{n.current=e})),r.useMemo((()=>(...e)=>n.current?.(...e)),[])}function M({prop:e,defaultProp:n,onChange:t=(()=>{})}){const[o,i]=function({defaultProp:e,onChange:n}){const t=r.useState(e),[o]=t,i=r.useRef(o),a=O(n);return r.useEffect((()=>{i.current!==o&&(a(o),i.current=o)}),[o,i,a]),t}({defaultProp:n,onChange:t}),a=void 0!==e,s=a?e:o,l=O(t);return[s,r.useCallback((n=>{if(a){const t="function"==typeof n?n(e):n;t!==e&&l(t)}else i(n)}),[a,e,i,l])]}var _=globalThis?.document?r.useLayoutEffect:()=>{};var x=e=>{const{present:n,children:t}=e,o=function(e){const[n,t]=r.useState(),o=r.useRef({}),i=r.useRef(e),a=r.useRef("none"),s=e?"mounted":"unmounted",[l,c]=function(e,n){return r.useReducer(((e,t)=>n[e][t]??e),e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return r.useEffect((()=>{const e=I(o.current);a.current="mounted"===l?e:"none"}),[l]),_((()=>{const n=o.current,t=i.current;if(t!==e){const r=a.current,o=I(n);if(e)c("MOUNT");else if("none"===o||"none"===n?.display)c("UNMOUNT");else{c(t&&r!==o?"ANIMATION_OUT":"UNMOUNT")}i.current=e}}),[e,c]),_((()=>{if(n){let e;const t=n.ownerDocument.defaultView??window,r=r=>{const a=I(o.current).includes(r.animationName);if(r.target===n&&a&&(c("ANIMATION_END"),!i.current)){const r=n.style.animationFillMode;n.style.animationFillMode="forwards",e=t.setTimeout((()=>{"forwards"===n.style.animationFillMode&&(n.style.animationFillMode=r)}))}},s=e=>{e.target===n&&(a.current=I(o.current))};return n.addEventListener("animationstart",s),n.addEventListener("animationcancel",r),n.addEventListener("animationend",r),()=>{t.clearTimeout(e),n.removeEventListener("animationstart",s),n.removeEventListener("animationcancel",r),n.removeEventListener("animationend",r)}}c("ANIMATION_END")}),[n,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:r.useCallback((e=>{e&&(o.current=getComputedStyle(e)),t(e)}),[])}}(n),i="function"==typeof t?t({present:o.isPresent}):r.Children.only(t),a=E(o.ref,function(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=n&&"isReactWarning"in n&&n.isReactWarning;if(t)return e.ref;if(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,t=n&&"isReactWarning"in n&&n.isReactWarning,t)return e.props.ref;return e.props.ref||e.ref}(i));return"function"==typeof t||o.isPresent?r.cloneElement(i,{ref:a}):null};function I(e){return e?.animationName||"none"}function P(e){const n=A(e),t=r.forwardRef(((e,t)=>{const{children:o,...i}=e,a=r.Children.toArray(o),s=a.find(T);if(s){const e=s.props.children,o=a.map((n=>n===s?r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null:n));return c(n,{...i,ref:t,children:r.isValidElement(e)?r.cloneElement(e,void 0,o):null})}return c(n,{...i,ref:t,children:o})}));return t.displayName=`${e}.Slot`,t}function A(e){const n=r.forwardRef(((e,n)=>{const{children:t,...o}=e;if(r.isValidElement(t)){const e=function(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=n&&"isReactWarning"in n&&n.isReactWarning;if(t)return e.ref;if(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,t=n&&"isReactWarning"in n&&n.isReactWarning,t)return e.props.ref;return e.props.ref||e.ref}(t),i=function(e,n){const t={...n};for(const r in n){const o=e[r],i=n[r];/^on[A-Z]/.test(r)?o&&i?t[r]=(...e)=>{i(...e),o(...e)}:o&&(t[r]=o):"style"===r?t[r]={...o,...i}:"className"===r&&(t[r]=[o,i].filter(Boolean).join(" "))}return{...e,...t}}(o,t.props);return t.type!==r.Fragment&&(i.ref=n?D(n,e):e),r.cloneElement(t,i)}return r.Children.count(t)>1?r.Children.only(null):null}));return n.displayName=`${e}.SlotClone`,n}x.displayName="Presence";var S=Symbol("radix.slottable");function T(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===S}var F=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,n)=>{const t=P(`Primitive.${n}`),o=r.forwardRef(((e,r)=>{const{asChild:o,...i}=e,a=o?t:n;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),c(a,{...i,ref:r})}));return o.displayName=`Primitive.${n}`,{...e,[n]:o}}),{}),j="Dialog",[z,$]=function(e,n=[]){let t=[];const o=()=>{const n=t.map((e=>r.createContext(e)));return function(t){const o=t?.[e]||n;return r.useMemo((()=>({[`__scope${e}`]:{...t,[e]:o}})),[t,o])}};return o.scopeName=e,[function(n,o){const i=r.createContext(o),a=t.length;t=[...t,o];const s=n=>{const{scope:t,children:o,...s}=n,l=t?.[e]?.[a]||i,u=r.useMemo((()=>s),Object.values(s));return c(l.Provider,{value:u,children:o})};return s.displayName=n+"Provider",[s,function(t,s){const l=s?.[e]?.[a]||i,c=r.useContext(l);if(c)return c;if(void 0!==o)return o;throw new Error(`\`${t}\` must be used within \`${n}\``)}]},R(o,...n)]}(j),[L,W]=z(j),k=e=>{const{__scopeDialog:n,children:t,open:o,defaultOpen:i,onOpenChange:a,modal:s=!0}=e,l=r.useRef(null),u=r.useRef(null),[d=!1,p]=M({prop:o,defaultProp:i,onChange:a});return c(L,{scope:n,triggerRef:l,contentRef:u,contentId:f(),titleId:f(),descriptionId:f(),open:d,onOpenChange:p,onOpenToggle:r.useCallback((()=>p((e=>!e))),[p]),modal:s,children:t})};k.displayName=j;var U="DialogTrigger";r.forwardRef(((e,n)=>{const{__scopeDialog:t,...r}=e,o=W(U,t),i=E(n,o.triggerRef);return c(F.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":se(o.open),...r,ref:i,onClick:b(e.onClick,o.onOpenToggle)})})).displayName=U;var V="DialogPortal",[B,H]=z(V,{forceMount:void 0}),Z=e=>{const{__scopeDialog:n,forceMount:t,children:o,container:i}=e,a=W(V,n);return c(B,{scope:n,forceMount:t,children:r.Children.map(o,(e=>c(x,{present:t||a.open,children:c(y,{asChild:!0,container:i,children:e})})))})};Z.displayName=V;var q="DialogOverlay",K=r.forwardRef(((e,n)=>{const t=H(q,e.__scopeDialog),{forceMount:r=t.forceMount,...o}=e,i=W(q,e.__scopeDialog);return i.modal?c(x,{present:r||i.open,children:c(J,{...o,ref:n})}):null}));K.displayName=q;var G=P("DialogOverlay.RemoveScroll"),J=r.forwardRef(((e,n)=>{const{__scopeDialog:t,...r}=e,o=W(q,t);return c(p,{as:G,allowPinchZoom:!0,shards:[o.contentRef],children:c(F.div,{"data-state":se(o.open),...r,ref:n,style:{pointerEvents:"auto",...r.style}})})})),Q="DialogContent",X=r.forwardRef(((e,n)=>{const t=H(Q,e.__scopeDialog),{forceMount:r=t.forceMount,...o}=e,i=W(Q,e.__scopeDialog);return c(x,{present:r||i.open,children:i.modal?c(Y,{...o,ref:n}):c(ee,{...o,ref:n})})}));X.displayName=Q;var Y=r.forwardRef(((e,n)=>{const t=W(Q,e.__scopeDialog),o=r.useRef(null),i=E(n,t.contentRef,o);return r.useEffect((()=>{const e=o.current;if(e)return m(e)}),[]),c(ne,{...e,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:b(e.onCloseAutoFocus,(e=>{e.preventDefault(),t.triggerRef.current?.focus()})),onPointerDownOutside:b(e.onPointerDownOutside,(e=>{const n=e.detail.originalEvent,t=0===n.button&&!0===n.ctrlKey;(2===n.button||t)&&e.preventDefault()})),onFocusOutside:b(e.onFocusOutside,(e=>e.preventDefault()))})})),ee=r.forwardRef(((e,n)=>{const t=W(Q,e.__scopeDialog),o=r.useRef(!1),i=r.useRef(!1);return c(ne,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:n=>{e.onCloseAutoFocus?.(n),n.defaultPrevented||(o.current||t.triggerRef.current?.focus(),n.preventDefault()),o.current=!1,i.current=!1},onInteractOutside:n=>{e.onInteractOutside?.(n),n.defaultPrevented||(o.current=!0,"pointerdown"===n.detail.originalEvent.type&&(i.current=!0));const r=n.target,a=t.triggerRef.current?.contains(r);a&&n.preventDefault(),"focusin"===n.detail.originalEvent.type&&i.current&&n.preventDefault()}})})),ne=r.forwardRef(((e,n)=>{const{__scopeDialog:t,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=e,l=W(Q,t),f=r.useRef(null),p=E(n,f);return g(),u(d,{children:[c(h,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:i,onUnmountAutoFocus:a,children:c(v,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":se(l.open),...s,ref:p,onDismiss:()=>l.onOpenChange(!1)})}),u(d,{children:[c(de,{titleId:l.titleId}),c(fe,{contentRef:f,descriptionId:l.descriptionId})]})]})})),te="DialogTitle",re=r.forwardRef(((e,n)=>{const{__scopeDialog:t,...r}=e,o=W(te,t);return c(F.h2,{id:o.titleId,...r,ref:n})}));re.displayName=te;var oe="DialogDescription";r.forwardRef(((e,n)=>{const{__scopeDialog:t,...r}=e,o=W(oe,t);return c(F.p,{id:o.descriptionId,...r,ref:n})})).displayName=oe;var ie="DialogClose",ae=r.forwardRef(((e,n)=>{const{__scopeDialog:t,...r}=e,o=W(ie,t);return c(F.button,{type:"button",...r,ref:n,onClick:b(e.onClick,(()=>o.onOpenChange(!1)))})}));function se(e){return e?"open":"closed"}ae.displayName=ie;var le="DialogTitleWarning",[ce,ue]=function(e,n){const t=r.createContext(n),o=e=>{const{children:n,...o}=e,i=r.useMemo((()=>o),Object.values(o));return c(t.Provider,{value:i,children:n})};return o.displayName=e+"Provider",[o,function(o){const i=r.useContext(t);if(i)return i;if(void 0!==n)return n;throw new Error(`\`${o}\` must be used within \`${e}\``)}]}(le,{contentName:Q,titleName:te,docsSlug:"dialog"}),de=({titleId:e})=>{const n=ue(le),t=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return r.useEffect((()=>{if(e){document.getElementById(e)||console.error(t)}}),[t,e]),null},fe=({contentRef:e,descriptionId:n})=>{const t=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ue("DialogDescriptionWarning").contentName}}.`;return r.useEffect((()=>{const r=e.current?.getAttribute("aria-describedby");if(n&&r){document.getElementById(n)||console.warn(t)}}),[t,e,n]),null},pe=k,me=Z,ge=K,he=X,ve=re,ye=ae;function we(e,n){if("function"==typeof e)return e(n);null!=e&&(e.current=n)}function Ne(e){const n=r.forwardRef(((e,n)=>{const{children:t,...o}=e;if(r.isValidElement(t)){const e=function(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=n&&"isReactWarning"in n&&n.isReactWarning;if(t)return e.ref;if(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,t=n&&"isReactWarning"in n&&n.isReactWarning,t)return e.props.ref;return e.props.ref||e.ref}(t),i=function(e,n){const t={...n};for(const r in n){const o=e[r],i=n[r];/^on[A-Z]/.test(r)?o&&i?t[r]=(...e)=>{const n=i(...e);return o(...e),n}:o&&(t[r]=o):"style"===r?t[r]={...o,...i}:"className"===r&&(t[r]=[o,i].filter(Boolean).join(" "))}return{...e,...t}}(o,t.props);return t.type!==r.Fragment&&(i.ref=n?function(...e){return n=>{let t=!1;const r=e.map((e=>{const r=we(e,n);return t||"function"!=typeof r||(t=!0),r}));if(t)return()=>{for(let n=0;n<r.length;n++){const t=r[n];"function"==typeof t?t():we(e[n],null)}}}}(n,e):e),r.cloneElement(t,i)}return r.Children.count(t)>1?r.Children.only(null):null}));return n.displayName=`${e}.SlotClone`,n}var be=Symbol("radix.slottable");function Ce(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===be}var De=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce(((e,n)=>{const t=function(e){const n=Ne(e),t=r.forwardRef(((e,t)=>{const{children:o,...i}=e,a=r.Children.toArray(o),s=a.find(Ce);if(s){const e=s.props.children,o=a.map((n=>n===s?r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null:n));return c(n,{...i,ref:t,children:r.isValidElement(e)?r.cloneElement(e,void 0,o):null})}return c(n,{...i,ref:t,children:o})}));return t.displayName=`${e}.Slot`,t}(`Primitive.${n}`),o=r.forwardRef(((e,r)=>{const{asChild:o,...i}=e,a=o?t:n;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),c(a,{...i,ref:r})}));return o.displayName=`Primitive.${n}`,{...e,[n]:o}}),{}),Ee=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Re=r.forwardRef(((e,n)=>c(De.span,{...e,ref:n,style:{...Ee,...e.style}})));Re.displayName="VisuallyHidden";w(".foundation-web-dialog-overlay{bottom:0;display:grid;left:0;overflow-y:auto;place-items:center;position:fixed;right:0;top:0}.foundation-web-dialog-close-container{right:var(--size-300);top:var(--size-300);z-index:1}.foundation-web-dialog-hero-media{border-top-left-radius:var(--radius-large);border-top-right-radius:var(--radius-large);margin-left:calc(var(--stroke-standard)*-1);margin-right:calc(var(--stroke-standard)*-1);margin-top:calc(var(--stroke-standard)*-1);overflow:clip}.foundation-web-dialog-content[data-size=Small]{max-width:calc(var(--size-100)*80);min-width:calc(var(--size-100)*75)}.foundation-web-dialog-content[data-size=Medium]{max-width:calc(var(--size-100)*120);min-width:calc(var(--size-100)*94)}.foundation-web-dialog-content[data-size=Large]{max-width:calc(var(--size-100)*160);min-width:calc(var(--size-100)*94)}");var Oe=["Small","Medium","Large"],Me=["Default"],_e=i({size:"Medium",ariaLabel:"",isModal:!0,hasCloseAffordance:!0,hasMarginTop:!0,hasMarginBottom:!0,type:"Default"}),xe=function(){var e=l(_e);if(!e)throw new Error("Dialog components must be used within a Dialog");return e},Ie={Small:"padding-x-large",Medium:"padding-x-xlarge",Large:"padding-x-xlarge"},Pe={Small:"padding-top-large",Medium:"padding-top-xlarge",Large:"padding-top-xlarge"},Ae={Small:"padding-bottom-large",Medium:"padding-bottom-xlarge",Large:"padding-bottom-xlarge"},Se=function(e){var n=e.open,t=e.onOpenChange,r=e.children,i=e.size,l=e.type,c=void 0===l?"Default":l,u=e.ariaLabel,d=e.isModal,f=e.hasCloseAffordance,p=void 0===f||f,m=e.hasMarginTop,g=void 0===m||m,h=e.hasMarginBottom,v=void 0===h||h,y=e.experimentalDisablePointerEventsStylingOnBody,w=void 0!==y&&y,N=a((function(){return{size:i,ariaLabel:u,isModal:d,type:c,hasCloseAffordance:p,hasMarginTop:g,hasMarginBottom:v}}),[i,u,d,c,p,g,v]);return s((function(){w&&setTimeout((function(){Object.assign(document.body.style,{pointerEvents:"unset"})}),0)}),[w,n]),o.createElement(_e.Provider,{value:N},o.createElement(pe,{open:n,onOpenChange:t},r))};Se.displayName="Dialog";var Te=function(r){var i=r.children,a=r.className,s=r.overlayClassName,l=e(r,["children","className","overlayClassName"]),c=xe(),u=c.size,d=c.isModal,f=c.hasCloseAffordance,p=t("foundation-web-dialog-overlay padding-y-medium foundation-web-portal-zindex",d&&"bg-common-backdrop",s),m=t("relative radius-large bg-surface-100 stroke-muted stroke-standard foundation-web-dialog-content shadow-transient-high",a);return o.createElement(me,null,o.createElement(ge,{className:p},o.createElement(he,n({className:m,"data-size":u},l),f&&o.createElement("div",{className:"absolute foundation-web-dialog-close-container"},o.createElement(ye,{asChild:!0},o.createElement(N,{variant:"OverMedia",size:u,isCircular:!0}))),i)))};Te.displayName="DialogContent";var Fe=function(r){var i=r.children,a=r.className,s=e(r,["children","className"]);return o.createElement("div",n({className:t("foundation-web-dialog-hero-media",a)},s),i)};Fe.displayName="DialogHeroMedia";var je=function(r){var i=r.children,a=r.className,s=e(r,["children","className"]),l=xe(),c=l.size,u=l.ariaLabel,d=l.hasMarginTop,f=l.hasMarginBottom,p=t(Ie[c],d&&Pe[c],f&&Ae[c],a);return o.createElement("div",n({className:p},s),o.createElement(Re,null,o.createElement(ve,null,u)),i)};je.displayName="DialogBody";var ze=function(r){var i=r.children,a=r.className,s=e(r,["children","className"]),l=xe().size,c=t(Ie[l],Ae[l],a);return o.createElement("div",n({className:c},s),i)};ze.displayName="DialogFooter";export{Se as Dialog,je as DialogBody,Te as DialogContent,ze as DialogFooter,Fe as DialogHeroMedia,Oe as dialogSizes,Me as dialogTypes};
