import{_ as e,a as n}from"../tslib.es6-e609138c.js";import t from"clsx";import*as r from"react";import o,{createContext as a,useMemo as i,useEffect as s,useContext as l}from"react";import{jsx as c,jsxs as u,Fragment as d}from"react/jsx-runtime";import{u as f}from"../index-93159332.js";import{R as p,h as m,u as g,F as v,D as h,P as y}from"../index-19da5741.js";import"react-dom";import"../Common-186f694e.js";import{s as N}from"../style-inject.es-e87a8d02.js";import{CloseAffordance as b}from"./internal/CloseAffordance.js";import"./Icon.js";import"./internal/StateLayer.js";function w(e,n,{checkForDefaultPrevented:t=!0}={}){return function(r){if(e?.(r),!1===t||!r.defaultPrevented)return n?.(r)}}function D(e,n){if("function"==typeof e)return e(n);null!=e&&(e.current=n)}function C(...e){return n=>{let t=!1;const r=e.map((e=>{const r=D(e,n);return t||"function"!=typeof r||(t=!0),r}));if(t)return()=>{for(let n=0;n<r.length;n++){const t=r[n];"function"==typeof t?t():D(e[n],null)}}}}function M(...e){return r.useCallback(C(...e),e)}function E(...e){const n=e[0];if(1===e.length)return n;const t=()=>{const t=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const o=t.reduce(((n,{useScope:t,scopeName:r})=>({...n,...t(e)[`__scope${r}`]})),{});return r.useMemo((()=>({[`__scope${n.scopeName}`]:o})),[o])}};return t.scopeName=n.scopeName,t}function O(e){const n=r.useRef(e);return r.useEffect((()=>{n.current=e})),r.useMemo((()=>(...e)=>n.current?.(...e)),[])}function R({prop:e,defaultProp:n,onChange:t=(()=>{})}){const[o,a]=function({defaultProp:e,onChange:n}){const t=r.useState(e),[o]=t,a=r.useRef(o),i=O(n);return r.useEffect((()=>{a.current!==o&&(i(o),a.current=o)}),[o,a,i]),t}({defaultProp:n,onChange:t}),i=void 0!==e,s=i?e:o,l=O(t);return[s,r.useCallback((n=>{if(i){const t="function"==typeof n?n(e):n;t!==e&&l(t)}else a(n)}),[i,e,a,l])]}var _=globalThis?.document?r.useLayoutEffect:()=>{};var I=e=>{const{present:n,children:t}=e,o=function(e){const[n,t]=r.useState(),o=r.useRef({}),a=r.useRef(e),i=r.useRef("none"),s=e?"mounted":"unmounted",[l,c]=function(e,n){return r.useReducer(((e,t)=>n[e][t]??e),e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return r.useEffect((()=>{const e=x(o.current);i.current="mounted"===l?e:"none"}),[l]),_((()=>{const n=o.current,t=a.current;if(t!==e){const r=i.current,o=x(n);if(e)c("MOUNT");else if("none"===o||"none"===n?.display)c("UNMOUNT");else{c(t&&r!==o?"ANIMATION_OUT":"UNMOUNT")}a.current=e}}),[e,c]),_((()=>{if(n){let e;const t=n.ownerDocument.defaultView??window,r=r=>{const i=x(o.current).includes(r.animationName);if(r.target===n&&i&&(c("ANIMATION_END"),!a.current)){const r=n.style.animationFillMode;n.style.animationFillMode="forwards",e=t.setTimeout((()=>{"forwards"===n.style.animationFillMode&&(n.style.animationFillMode=r)}))}},s=e=>{e.target===n&&(i.current=x(o.current))};return n.addEventListener("animationstart",s),n.addEventListener("animationcancel",r),n.addEventListener("animationend",r),()=>{t.clearTimeout(e),n.removeEventListener("animationstart",s),n.removeEventListener("animationcancel",r),n.removeEventListener("animationend",r)}}c("ANIMATION_END")}),[n,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:r.useCallback((e=>{e&&(o.current=getComputedStyle(e)),t(e)}),[])}}(n),a="function"==typeof t?t({present:o.isPresent}):r.Children.only(t),i=M(o.ref,function(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=n&&"isReactWarning"in n&&n.isReactWarning;if(t)return e.ref;if(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,t=n&&"isReactWarning"in n&&n.isReactWarning,t)return e.props.ref;return e.props.ref||e.ref}(a));return"function"==typeof t||o.isPresent?r.cloneElement(a,{ref:i}):null};function x(e){return e?.animationName||"none"}function P(e){const n=T(e),t=r.forwardRef(((e,t)=>{const{children:o,...a}=e,i=r.Children.toArray(o),s=i.find(F);if(s){const e=s.props.children,o=i.map((n=>n===s?r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null:n));return c(n,{...a,ref:t,children:r.isValidElement(e)?r.cloneElement(e,void 0,o):null})}return c(n,{...a,ref:t,children:o})}));return t.displayName=`${e}.Slot`,t}function T(e){const n=r.forwardRef(((e,n)=>{const{children:t,...o}=e;if(r.isValidElement(t)){const e=function(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=n&&"isReactWarning"in n&&n.isReactWarning;if(t)return e.ref;if(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,t=n&&"isReactWarning"in n&&n.isReactWarning,t)return e.props.ref;return e.props.ref||e.ref}(t),a=function(e,n){const t={...n};for(const r in n){const o=e[r],a=n[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...e)=>{a(...e),o(...e)}:o&&(t[r]=o):"style"===r?t[r]={...o,...a}:"className"===r&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...e,...t}}(o,t.props);return t.type!==r.Fragment&&(a.ref=n?C(n,e):e),r.cloneElement(t,a)}return r.Children.count(t)>1?r.Children.only(null):null}));return n.displayName=`${e}.SlotClone`,n}I.displayName="Presence";var A=Symbol("radix.slottable");function F(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===A}var S=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,n)=>{const t=P(`Primitive.${n}`),o=r.forwardRef(((e,r)=>{const{asChild:o,...a}=e,i=o?t:n;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),c(i,{...a,ref:r})}));return o.displayName=`Primitive.${n}`,{...e,[n]:o}}),{}),z="Dialog",[j,L]=function(e,n=[]){let t=[];const o=()=>{const n=t.map((e=>r.createContext(e)));return function(t){const o=t?.[e]||n;return r.useMemo((()=>({[`__scope${e}`]:{...t,[e]:o}})),[t,o])}};return o.scopeName=e,[function(n,o){const a=r.createContext(o),i=t.length;t=[...t,o];const s=n=>{const{scope:t,children:o,...s}=n,l=t?.[e]?.[i]||a,u=r.useMemo((()=>s),Object.values(s));return c(l.Provider,{value:u,children:o})};return s.displayName=n+"Provider",[s,function(t,s){const l=s?.[e]?.[i]||a,c=r.useContext(l);if(c)return c;if(void 0!==o)return o;throw new Error(`\`${t}\` must be used within \`${n}\``)}]},E(o,...n)]}(z),[$,k]=j(z),U=e=>{const{__scopeDialog:n,children:t,open:o,defaultOpen:a,onOpenChange:i,modal:s=!0}=e,l=r.useRef(null),u=r.useRef(null),[d=!1,p]=R({prop:o,defaultProp:a,onChange:i});return c($,{scope:n,triggerRef:l,contentRef:u,contentId:f(),titleId:f(),descriptionId:f(),open:d,onOpenChange:p,onOpenToggle:r.useCallback((()=>p((e=>!e))),[p]),modal:s,children:t})};U.displayName=z;var W="DialogTrigger";r.forwardRef(((e,n)=>{const{__scopeDialog:t,...r}=e,o=k(W,t),a=M(n,o.triggerRef);return c(S.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":se(o.open),...r,ref:a,onClick:w(e.onClick,o.onOpenToggle)})})).displayName=W;var B="DialogPortal",[V,H]=j(B,{forceMount:void 0}),Z=e=>{const{__scopeDialog:n,forceMount:t,children:o,container:a}=e,i=k(B,n);return c(V,{scope:n,forceMount:t,children:r.Children.map(o,(e=>c(I,{present:t||i.open,children:c(y,{asChild:!0,container:a,children:e})})))})};Z.displayName=B;var q="DialogOverlay",K=r.forwardRef(((e,n)=>{const t=H(q,e.__scopeDialog),{forceMount:r=t.forceMount,...o}=e,a=k(q,e.__scopeDialog);return a.modal?c(I,{present:r||a.open,children:c(J,{...o,ref:n})}):null}));K.displayName=q;var G=P("DialogOverlay.RemoveScroll"),J=r.forwardRef(((e,n)=>{const{__scopeDialog:t,...r}=e,o=k(q,t);return c(p,{as:G,allowPinchZoom:!0,shards:[o.contentRef],children:c(S.div,{"data-state":se(o.open),...r,ref:n,style:{pointerEvents:"auto",...r.style}})})})),Q="DialogContent",X=r.forwardRef(((e,n)=>{const t=H(Q,e.__scopeDialog),{forceMount:r=t.forceMount,...o}=e,a=k(Q,e.__scopeDialog);return c(I,{present:r||a.open,children:a.modal?c(Y,{...o,ref:n}):c(ee,{...o,ref:n})})}));X.displayName=Q;var Y=r.forwardRef(((e,n)=>{const t=k(Q,e.__scopeDialog),o=r.useRef(null),a=M(n,t.contentRef,o);return r.useEffect((()=>{const e=o.current;if(e)return m(e)}),[]),c(ne,{...e,ref:a,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:w(e.onCloseAutoFocus,(e=>{e.preventDefault(),t.triggerRef.current?.focus()})),onPointerDownOutside:w(e.onPointerDownOutside,(e=>{const n=e.detail.originalEvent,t=0===n.button&&!0===n.ctrlKey;(2===n.button||t)&&e.preventDefault()})),onFocusOutside:w(e.onFocusOutside,(e=>e.preventDefault()))})})),ee=r.forwardRef(((e,n)=>{const t=k(Q,e.__scopeDialog),o=r.useRef(!1),a=r.useRef(!1);return c(ne,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:n=>{e.onCloseAutoFocus?.(n),n.defaultPrevented||(o.current||t.triggerRef.current?.focus(),n.preventDefault()),o.current=!1,a.current=!1},onInteractOutside:n=>{e.onInteractOutside?.(n),n.defaultPrevented||(o.current=!0,"pointerdown"===n.detail.originalEvent.type&&(a.current=!0));const r=n.target,i=t.triggerRef.current?.contains(r);i&&n.preventDefault(),"focusin"===n.detail.originalEvent.type&&a.current&&n.preventDefault()}})})),ne=r.forwardRef(((e,n)=>{const{__scopeDialog:t,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:i,...s}=e,l=k(Q,t),f=r.useRef(null),p=M(n,f);return g(),u(d,{children:[c(v,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:a,onUnmountAutoFocus:i,children:c(h,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":se(l.open),...s,ref:p,onDismiss:()=>l.onOpenChange(!1)})}),u(d,{children:[c(de,{titleId:l.titleId}),c(fe,{contentRef:f,descriptionId:l.descriptionId})]})]})})),te="DialogTitle",re=r.forwardRef(((e,n)=>{const{__scopeDialog:t,...r}=e,o=k(te,t);return c(S.h2,{id:o.titleId,...r,ref:n})}));re.displayName=te;var oe="DialogDescription";r.forwardRef(((e,n)=>{const{__scopeDialog:t,...r}=e,o=k(oe,t);return c(S.p,{id:o.descriptionId,...r,ref:n})})).displayName=oe;var ae="DialogClose",ie=r.forwardRef(((e,n)=>{const{__scopeDialog:t,...r}=e,o=k(ae,t);return c(S.button,{type:"button",...r,ref:n,onClick:w(e.onClick,(()=>o.onOpenChange(!1)))})}));function se(e){return e?"open":"closed"}ie.displayName=ae;var le="DialogTitleWarning",[ce,ue]=function(e,n){const t=r.createContext(n),o=e=>{const{children:n,...o}=e,a=r.useMemo((()=>o),Object.values(o));return c(t.Provider,{value:a,children:n})};return o.displayName=e+"Provider",[o,function(o){const a=r.useContext(t);if(a)return a;if(void 0!==n)return n;throw new Error(`\`${o}\` must be used within \`${e}\``)}]}(le,{contentName:Q,titleName:te,docsSlug:"dialog"}),de=({titleId:e})=>{const n=ue(le),t=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return r.useEffect((()=>{if(e){document.getElementById(e)||console.error(t)}}),[t,e]),null},fe=({contentRef:e,descriptionId:n})=>{const t=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ue("DialogDescriptionWarning").contentName}}.`;return r.useEffect((()=>{const r=e.current?.getAttribute("aria-describedby");if(n&&r){document.getElementById(n)||console.warn(t)}}),[t,e,n]),null},pe=U,me=Z,ge=K,ve=X,he=re,ye=ie;N(".foundation-web-dialog-overlay{bottom:0;display:grid;left:0;overflow-y:auto;place-items:center;position:fixed;right:0;top:0}.foundation-web-dialog-close-container{right:var(--size-300);top:var(--size-300);z-index:1}.foundation-web-dialog-hero-media{border-top-left-radius:var(--radius-large);border-top-right-radius:var(--radius-large);margin-left:calc(var(--stroke-standard)*-1);margin-right:calc(var(--stroke-standard)*-1);margin-top:calc(var(--stroke-standard)*-1);overflow:clip}.foundation-web-dialog-content[data-size=Small]{max-width:calc(var(--size-100)*80);min-width:calc(var(--size-100)*75)}.foundation-web-dialog-content[data-size=Medium]{max-width:calc(var(--size-100)*120);min-width:calc(var(--size-100)*94)}.foundation-web-dialog-content[data-size=Large]{max-width:calc(var(--size-100)*160);min-width:calc(var(--size-100)*94)}");var Ne=["Small","Medium","Large"],be=["Default"],we=a({size:"Medium",isModal:!0,hasCloseAffordance:!1,hasMarginTop:!0,hasMarginBottom:!0,type:"Default"}),De=function(){var e=l(we);if(!e)throw new Error("Dialog components must be used within a Dialog");return e},Ce={Small:"padding-x-large",Medium:"padding-x-xlarge",Large:"padding-x-xlarge"},Me={Small:"padding-top-large",Medium:"padding-top-xlarge",Large:"padding-top-xlarge"},Ee={Small:"padding-bottom-large",Medium:"padding-bottom-xlarge",Large:"padding-bottom-xlarge"},Oe=function(e){var n=e.open,t=e.onOpenChange,r=e.children,a=e.size,l=e.type,c=void 0===l?"Default":l,u=e.isModal,d=e.hasCloseAffordance,f=e.closeLabel,p=e.hasMarginTop,m=void 0===p||p,g=e.hasMarginBottom,v=void 0===g||g,h=e.experimentalDisablePointerEventsStylingOnBody,y=void 0!==h&&h,N=i((function(){return{size:a,isModal:u,type:c,hasCloseAffordance:d,closeLabel:f,hasMarginTop:m,hasMarginBottom:v}}),[a,u,c,d,f,m,v]);return s((function(){y&&setTimeout((function(){Object.assign(document.body.style,{pointerEvents:"unset"})}),0)}),[y,n]),o.createElement(we.Provider,{value:N},o.createElement(pe,{open:n,onOpenChange:t},r))};Oe.displayName="Dialog";var Re=function(r){var a=r.children,i=r.className,s=r.overlayClassName,l=e(r,["children","className","overlayClassName"]),c=De(),u=c.size,d=c.isModal,f=c.hasCloseAffordance,p=c.closeLabel,m=t("foundation-web-dialog-overlay padding-y-medium foundation-web-portal-zindex",d&&"bg-common-backdrop",s),g=t("relative radius-large bg-surface-100 stroke-muted stroke-standard foundation-web-dialog-content shadow-transient-high",i);return o.createElement(me,null,o.createElement(ge,{className:m},o.createElement(ve,n({className:g,"data-size":u},l),f&&o.createElement("div",{className:"absolute foundation-web-dialog-close-container"},o.createElement(ye,{asChild:!0},o.createElement(b,{variant:"OverMedia",size:u,isCircular:!0,"aria-label":p}))),a)))};Re.displayName="DialogContent";var _e=function(r){var a=r.children,i=r.className,s=e(r,["children","className"]);return o.createElement("div",n({className:t("foundation-web-dialog-hero-media",i)},s),a)};_e.displayName="DialogHeroMedia";var Ie=function(r){var a=r.children,i=r.className,s=e(r,["children","className"]),l=De(),c=l.size,u=l.hasMarginTop,d=l.hasMarginBottom,f=t(Ce[c],u&&Me[c],d&&Ee[c],i);return o.createElement("div",n({className:f},s),a)};Ie.displayName="DialogBody";var xe=function(t){var r=t.children,a=t.className,i=e(t,["children","className"]);return o.createElement(he,n({className:a},i),r)};xe.displayName="DialogTitle";var Pe=function(r){var a=r.children,i=r.className,s=e(r,["children","className"]),l=De().size,c=t(Ce[l],Ee[l],i);return o.createElement("div",n({className:c},s),a)};Pe.displayName="DialogFooter";export{Oe as Dialog,Ie as DialogBody,Re as DialogContent,Pe as DialogFooter,_e as DialogHeroMedia,xe as DialogTitle,Ne as dialogSizes,be as dialogTypes};
