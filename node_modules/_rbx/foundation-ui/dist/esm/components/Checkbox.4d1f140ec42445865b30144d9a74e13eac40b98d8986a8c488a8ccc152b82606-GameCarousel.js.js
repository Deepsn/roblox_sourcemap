import{_ as e,a as t}from"../tslib.es6-e609138c.js";import n from"clsx";import*as r from"react";import a from"react";import{c as l,a as i,u as s,b as o,d as c,P as d,e as m}from"../index-cfadd1fe.js";import"react-dom";import{jsx as u,Fragment as p,jsxs as f}from"react/jsx-runtime";import{interactable as h,StateLayer as b}from"./internal/StateLayer.js";import v from"../utils/useId.js";import{disabledOpacity as g}from"../utils/styles.js";var y=r.forwardRef(((e,t)=>{const{children:n,...a}=e,l=r.Children.toArray(n),i=l.find(C);if(i){const e=i.props.children,n=l.map((t=>t===i?r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null:t));return u(k,{...a,ref:t,children:r.isValidElement(e)?r.cloneElement(e,void 0,n):null})}return u(k,{...a,ref:t,children:n})}));y.displayName="Slot";var k=r.forwardRef(((e,t)=>{const{children:n,...a}=e;if(r.isValidElement(n)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(n),i=function(e,t){const n={...t};for(const r in t){const a=e[r],l=t[r];/^on[A-Z]/.test(r)?a&&l?n[r]=(...e)=>{l(...e),a(...e)}:a&&(n[r]=a):"style"===r?n[r]={...a,...l}:"className"===r&&(n[r]=[a,l].filter(Boolean).join(" "))}return{...e,...n}}(a,n.props);return n.type!==r.Fragment&&(i.ref=t?l(t,e):e),r.cloneElement(n,i)}return r.Children.count(n)>1?r.Children.only(null):null}));k.displayName="SlotClone";var x=({children:e})=>u(p,{children:e});function C(e){return r.isValidElement(e)&&e.type===x}var E=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const n=r.forwardRef(((e,n)=>{const{asChild:r,...a}=e,l=r?y:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),u(l,{...a,ref:n})}));return n.displayName=`Primitive.${t}`,{...e,[t]:n}}),{}),w="Checkbox",[S,N]=i(w),[R,j]=S(w),L=r.forwardRef(((e,t)=>{const{__scopeCheckbox:n,name:a,checked:l,defaultChecked:i,required:d,disabled:m,value:p="on",onCheckedChange:h,form:b,...v}=e,[g,y]=r.useState(null),k=s(t,(e=>y(e))),x=r.useRef(!1),C=!g||(b||!!g.closest("form")),[w=!1,S]=o({prop:l,defaultProp:i,onChange:h}),N=r.useRef(w);return r.useEffect((()=>{const e=g?.form;if(e){const t=()=>S(N.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}}),[g,S]),f(R,{scope:n,state:w,disabled:m,children:[u(E.button,{type:"button",role:"checkbox","aria-checked":z(w)?"mixed":w,"aria-required":d,"data-state":O(w),"data-disabled":m?"":void 0,disabled:m,value:p,...v,ref:k,onKeyDown:c(e.onKeyDown,(e=>{"Enter"===e.key&&e.preventDefault()})),onClick:c(e.onClick,(e=>{S((e=>!!z(e)||!e)),C&&(x.current=e.isPropagationStopped(),x.current||e.stopPropagation())}))}),C&&u(P,{control:g,bubbles:!x.current,name:a,value:p,checked:w,required:d,disabled:m,form:b,style:{transform:"translateX(-100%)"},defaultChecked:!z(i)&&i})]})}));L.displayName=w;var D="CheckboxIndicator",M=r.forwardRef(((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,l=j(D,n);return u(d,{present:r||z(l.state)||!0===l.state,children:u(E.span,{"data-state":O(l.state),"data-disabled":l.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})}));M.displayName=D;var P=e=>{const{control:t,checked:n,bubbles:a=!0,defaultChecked:l,...i}=e,s=r.useRef(null),o=function(e){const t=r.useRef({value:e,previous:e});return r.useMemo((()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous)),[e])}(n),c=m(t);r.useEffect((()=>{const e=s.current,t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"checked").set;if(o!==n&&r){const t=new Event("click",{bubbles:a});e.indeterminate=z(n),r.call(e,!z(n)&&n),e.dispatchEvent(t)}}),[o,n,a]);const d=r.useRef(!z(n)&&n);return u("input",{type:"checkbox","aria-hidden":!0,defaultChecked:l??d.current,...i,tabIndex:-1,ref:s,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function z(e){return"indeterminate"===e}function O(e){return z(e)?"indeterminate":e?"checked":"unchecked"}var X=L,_=M,I=["XSmall","Small","Medium","Large"],V=["Start","End"],W={XSmall:"size-400",Small:"size-500",Medium:"size-600",Large:"size-600"},q={XSmall:"",Small:"",Medium:"",Large:"padding-y-xxsmall"},A={XSmall:"text-title-small",Small:"text-title-small",Medium:"text-title-medium",Large:"text-title-large"},F={XSmall:"",Small:"padding-top-xxsmall",Medium:"padding-top-xxsmall",Large:"padding-top-xxsmall"},K=function(r){var l=r.label,i=r.className,s=r.isChecked,o=r.isDisabled,c=r.size,d=r.hint,m=r.placement,u=r.onCheckedChange,p=e(r,["label","className","isChecked","isDisabled","size","hint","placement","onCheckedChange"]),f=v(),y=l&&a.createElement("label",{htmlFor:f,className:"flex flex-col grow-1 gap-xsmall"},a.createElement("span",{className:n(A[c],F[c],"content-emphasis")},l),d&&a.createElement("span",{className:"text-body-medium content-default"},d));return a.createElement("div",{className:n("foundation-web-checkbox flex gap-medium",o&&g,i)},"End"===m&&y,a.createElement("div",{className:n(q[c])},a.createElement(X,t({className:n(W[c],h,"flex items-center justify-center radius-small padding-none content-default",s?"stroke-none":"stroke-standard stroke-emphasis",s?"bg-system-contrast":"bg-none"),id:f,checked:s,disabled:o,onCheckedChange:u,"aria-label":l},p),a.createElement(b,null),a.createElement(_,{className:n(W[c],"content-[var(--inverse-content-emphasis)] icon",{"icon-filled-minus":"indeterminate"===s,"icon-filled-check":!0===s})}))),"Start"===m&&y)};export{K as Checkbox,V as checkboxPlacements,I as checkboxSizes};
