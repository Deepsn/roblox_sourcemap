import React, { FunctionComponent } from "react";
import { BadgeSizes } from "../constants/BadgeConstants";
import { noop } from "../utils/misc";
import { BadgeIcon } from "./BadgeIcon";
import {
  PREMIUM_ICON_SVG_URL_ENCODED_DATA_OUTLINE_DARK,
  PREMIUM_ICON_SVG_URL_ENCODED_DATA_OUTLINE_LIGHT,
} from "../styles/sharedVariables";

export enum PremiumBadgeThemeOptions {
  LIGHT_OUTLINE = "lightOutline",
  DARK_OUTLINE = "darkOutline",
}

export interface PremiumBadgeIconProps {
  iconTheme: PremiumBadgeThemeOptions;
  size: BadgeSizes;
  titleText: string;
  additionalContainerClass?: string;
  overrideContainerClass?: string;
  additionalImgClass?: string;
  overrideImgClass?: string;
  onIconClick?: () => void;
}

export const premiumBadgeIconDataAttrSelector = "data-rblx-premium-badge-icon";
export const premiumBadgeIconReactRenderClass = "premium-badge-icon";
const premiumBadgeDataAttrs = {
  [premiumBadgeIconDataAttrSelector]: "",
};

export const PremiumBadgeIcon: FunctionComponent<PremiumBadgeIconProps> = ({
  iconTheme,
  size,
  titleText,
  additionalContainerClass,
  overrideContainerClass,
  additionalImgClass,
  overrideImgClass,
  onIconClick = noop,
}) => {
  if (!size) {
    throw new Error("Must provide a size prop");
  }

  if (!titleText) {
    throw new Error("Must provide a titleText for accessibility");
  }

  const srcToDisplay =
    iconTheme === PremiumBadgeThemeOptions.LIGHT_OUTLINE
      ? PREMIUM_ICON_SVG_URL_ENCODED_DATA_OUTLINE_LIGHT
      : PREMIUM_ICON_SVG_URL_ENCODED_DATA_OUTLINE_DARK;

  return (
    <BadgeIcon
      dataAttrs={premiumBadgeDataAttrs}
      size={size}
      titleText={titleText}
      additionalContainerClass={additionalContainerClass}
      overrideContainerClass={overrideContainerClass}
      additionalImgClass={additionalImgClass}
      overrideImgClass={overrideImgClass}
      src={srcToDisplay}
      onIconClick={onIconClick}
    />
  );
};

export default PremiumBadgeIcon;
