import{_ as e}from"../tslib.es6-e609138c.js";import t from"clsx";import*as n from"react";import r from"react";import{c as a,a as l,u as s,b as i,d as o,P as c,e as d}from"../index-cfadd1fe.js";import"react-dom";import{jsx as m,Fragment as u,jsxs as p}from"react/jsx-runtime";import{interactable as f,StateLayer as h}from"./internal/StateLayer.js";import b from"../utils/useId.js";import{disabledOpacity as g}from"../utils/styles.js";var v=n.forwardRef(((e,t)=>{const{children:r,...a}=e,l=n.Children.toArray(r),s=l.find(x);if(s){const e=s.props.children,r=l.map((t=>t===s?n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null:t));return m(y,{...a,ref:t,children:n.isValidElement(e)?n.cloneElement(e,void 0,r):null})}return m(y,{...a,ref:t,children:r})}));v.displayName="Slot";var y=n.forwardRef(((e,t)=>{const{children:r,...l}=e;if(n.isValidElement(r)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(r),s=function(e,t){const n={...t};for(const r in t){const a=e[r],l=t[r];/^on[A-Z]/.test(r)?a&&l?n[r]=(...e)=>{l(...e),a(...e)}:a&&(n[r]=a):"style"===r?n[r]={...a,...l}:"className"===r&&(n[r]=[a,l].filter(Boolean).join(" "))}return{...e,...n}}(l,r.props);return r.type!==n.Fragment&&(s.ref=t?a(t,e):e),n.cloneElement(r,s)}return n.Children.count(r)>1?n.Children.only(null):null}));y.displayName="SlotClone";var k=({children:e})=>m(u,{children:e});function x(e){return n.isValidElement(e)&&e.type===k}var C=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const r=n.forwardRef(((e,n)=>{const{asChild:r,...a}=e,l=r?v:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),m(l,{...a,ref:n})}));return r.displayName=`Primitive.${t}`,{...e,[t]:r}}),{}),E="Checkbox",[w,S]=l(E),[N,R]=w(E),j=n.forwardRef(((e,t)=>{const{__scopeCheckbox:r,name:a,checked:l,defaultChecked:c,required:d,disabled:u,value:f="on",onCheckedChange:h,form:b,...g}=e,[v,y]=n.useState(null),k=s(t,(e=>y(e))),x=n.useRef(!1),E=!v||(b||!!v.closest("form")),[w=!1,S]=i({prop:l,defaultProp:c,onChange:h}),R=n.useRef(w);return n.useEffect((()=>{const e=v?.form;if(e){const t=()=>S(R.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}}),[v,S]),p(N,{scope:r,state:w,disabled:u,children:[m(C.button,{type:"button",role:"checkbox","aria-checked":P(w)?"mixed":w,"aria-required":d,"data-state":O(w),"data-disabled":u?"":void 0,disabled:u,value:f,...g,ref:k,onKeyDown:o(e.onKeyDown,(e=>{"Enter"===e.key&&e.preventDefault()})),onClick:o(e.onClick,(e=>{S((e=>!!P(e)||!e)),E&&(x.current=e.isPropagationStopped(),x.current||e.stopPropagation())}))}),E&&m(M,{control:v,bubbles:!x.current,name:a,value:f,checked:w,required:d,disabled:u,form:b,style:{transform:"translateX(-100%)"},defaultChecked:!P(c)&&c})]})}));j.displayName=E;var L="CheckboxIndicator",D=n.forwardRef(((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,l=R(L,n);return m(c,{present:r||P(l.state)||!0===l.state,children:m(C.span,{"data-state":O(l.state),"data-disabled":l.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})}));D.displayName=L;var M=e=>{const{control:t,checked:r,bubbles:a=!0,defaultChecked:l,...s}=e,i=n.useRef(null),o=function(e){const t=n.useRef({value:e,previous:e});return n.useMemo((()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous)),[e])}(r),c=d(t);n.useEffect((()=>{const e=i.current,t=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(t,"checked").set;if(o!==r&&n){const t=new Event("click",{bubbles:a});e.indeterminate=P(r),n.call(e,!P(r)&&r),e.dispatchEvent(t)}}),[o,r,a]);const u=n.useRef(!P(r)&&r);return m("input",{type:"checkbox","aria-hidden":!0,defaultChecked:l??u.current,...s,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function P(e){return"indeterminate"===e}function O(e){return P(e)?"indeterminate":e?"checked":"unchecked"}var z=j,X=D;const _=["XSmall","Small","Medium","Large"],I=["Start","End"],V={XSmall:"size-400",Small:"size-500",Medium:"size-600",Large:"size-600"},W={XSmall:"",Small:"",Medium:"",Large:"padding-y-xxsmall"},q={XSmall:"text-title-small",Small:"text-title-small",Medium:"text-title-medium",Large:"text-title-large"},A={XSmall:"",Small:"padding-top-xxsmall",Medium:"padding-top-xxsmall",Large:"padding-top-xxsmall"},F=n=>{var{label:a,className:l,isChecked:s,isDisabled:i,size:o,hint:c,placement:d,onCheckedChange:m}=n,u=e(n,["label","className","isChecked","isDisabled","size","hint","placement","onCheckedChange"]);const p=b(),v=a&&r.createElement("label",{htmlFor:p,className:"flex flex-col grow-1 gap-xsmall"},r.createElement("span",{className:t(q[o],A[o],"content-emphasis")},a),c&&r.createElement("span",{className:"text-body-medium content-default"},c));return r.createElement("div",{className:t("foundation-web-checkbox flex gap-medium",i&&g,l)},"End"===d&&v,r.createElement("div",{className:t(W[o])},r.createElement(z,Object.assign({className:t(V[o],f,"flex items-center justify-center radius-small padding-none content-default",s?"stroke-none":"stroke-standard stroke-emphasis",s?"bg-system-contrast":"bg-none"),id:p,checked:s,disabled:i,onCheckedChange:m,"aria-label":a},u),r.createElement(h,null),r.createElement(X,{className:t(V[o],"content-[var(--inverse-content-emphasis)] icon",{"icon-filled-minus":"indeterminate"===s,"icon-filled-check":!0===s})}))),"Start"===d&&v)};export{F as Checkbox,I as checkboxPlacements,_ as checkboxSizes};
